{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst client_id = \"fc5d09568704b08440a4\";\nconst client_secret = \"d9c673dda3d8219b9187d9a1857774673c7f8cdd\"; //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\n\nconst config = {\n  headers: {\n    Authorization: \"Token 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\"\n  }\n};\nexport const fetchReposAction = createAsyncThunk(\"repos/list\", async (user, {\n  rejectWithValue,\n  getState,\n  dispatch\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`https://api.github.com/users/${user}/repos?per_page=700&sort=asc`, config);\n    return data;\n  } catch (error) {\n    if (!(error === null || error === void 0 ? void 0 : error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const fetchProfileAction = createAsyncThunk(\"profile/list\", async (user, {\n  rejectWithValue,\n  getState,\n  dispatch\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`https://api.github.com/users/${user}?client_id=${client_id}`, config);\n    return data;\n  } catch (error) {\n    if (!(error === null || error === void 0 ? void 0 : error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error.response.data);\n  }\n});\nconst reposSlices = createSlice({\n  name: \"repos\",\n  initialState: {},\n  extraReducers: builder => {\n    builder.addCase(fetchReposAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchReposAction.fulfilled, (state, action) => {\n      state.reposList = action === null || action === void 0 ? void 0 : action.payload;\n      state.loading = false;\n      state.error = undefined;\n    });\n    builder.addCase(fetchReposAction.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n      state.reposList = undefined;\n    }); //Profile\n\n    builder.addCase(fetchProfileAction.pending, (state, action) => {\n      state.loading = true;\n      state.profile = undefined;\n    });\n    builder.addCase(fetchProfileAction.fulfilled, (state, action) => {\n      state.profile = action === null || action === void 0 ? void 0 : action.payload;\n      state.loading = false;\n      state.error = undefined;\n    });\n    builder.addCase(fetchProfileAction.rejected, (state, action) => {\n      state.loading = false;\n      state.profile = undefined;\n      state.error = action.payload;\n    });\n  }\n});\nexport default reposSlices.reducer;","map":{"version":3,"sources":["/Users/inovotek/programming/youtube/deployed/githubfinder-app/src/redux/slices/reposSlice.js"],"names":["createAsyncThunk","createSlice","axios","client_id","client_secret","config","headers","Authorization","fetchReposAction","user","rejectWithValue","getState","dispatch","data","get","error","response","fetchProfileAction","reposSlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","reposList","payload","undefined","rejected","profile","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst client_id = \"fc5d09568704b08440a4\";\nconst client_secret = \"d9c673dda3d8219b9187d9a1857774673c7f8cdd\";\n\n//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\n\nconst config = {\n  headers: {\n    Authorization: \"Token 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\",\n  },\n};\nexport const fetchReposAction = createAsyncThunk(\n  \"repos/list\",\n  async (user, { rejectWithValue, getState, dispatch }) => {\n    try {\n      const { data } = await axios.get(\n        `https://api.github.com/users/${user}/repos?per_page=700&sort=asc`,\n        config\n      );\n\n      return data;\n    } catch (error) {\n      if (!error?.response) {\n        throw error;\n      }\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const fetchProfileAction = createAsyncThunk(\n  \"profile/list\",\n  async (user, { rejectWithValue, getState, dispatch }) => {\n    try {\n      const { data } = await axios.get(\n        `https://api.github.com/users/${user}?client_id=${client_id}`,\n        config\n      );\n\n      return data;\n    } catch (error) {\n      if (!error?.response) {\n        throw error;\n      }\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nconst reposSlices = createSlice({\n  name: \"repos\",\n  initialState: {},\n  extraReducers: builder => {\n    builder.addCase(fetchReposAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchReposAction.fulfilled, (state, action) => {\n      state.reposList = action?.payload;\n      state.loading = false;\n      state.error = undefined;\n    });\n    builder.addCase(fetchReposAction.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n      state.reposList = undefined;\n    });\n    //Profile\n    builder.addCase(fetchProfileAction.pending, (state, action) => {\n      state.loading = true;\n      state.profile = undefined;\n    });\n    builder.addCase(fetchProfileAction.fulfilled, (state, action) => {\n      state.profile = action?.payload;\n      state.loading = false;\n      state.error = undefined;\n    });\n    builder.addCase(fetchProfileAction.rejected, (state, action) => {\n      state.loading = false;\n\n      state.profile = undefined;\n      state.error = action.payload;\n    });\n  },\n});\n\nexport default reposSlices.reducer;\n"]},"metadata":{},"sourceType":"module"}